# 🧮 Telegram AI Scheduler Bot - שפיר מתמטיקה

בוט Telegram AI מתקדם לתיאום שיעורי מתמטיקה פרטיים בעברית עם שפיר.

## ✨ תכונות מרכזיות

- **📅 תיאום שיעורים בעברית טבעית**: "אני רוצה שיעור מחר בשעה 4"
- **🤖 AI Chat מתקדם**: GPT-4 עם הבנת עברית מעולה
- **📱 רישום תלמידים מלא**: שם, טלפון, כיתה, כתובת
- **🔗 אינטגרציה Google Calendar**: סנכרון אוטומטי
- **⏰ זמנים פנויים דינמיים**: בדיקת זמינות בזמן אמת
- **📋 רשימת המתנה חכמה**: התראות אוטומטיות
- **📊 דשבורד מורה**: ניהול תלמידים ורשימת המתנה
- **💬 שיחה טבעית**: AI שמבין דיבור חופשי בעברית

## 🚀 עדכונים אחרונים (28/06/2025)

### ✅ בעיות שתוקנו:
1. **זמנים פנויים עכשיו עובדים!** - המערכת מציגה זמנים פנויים נכון
2. **רישום תלמידים מלא** - איסוף פרטים: שם, טלפון, כיתה, כתובת
3. **שמירת נתונים** - כל השיחות והנתונים נשמרים במסד הנתונים
4. **שיפור AI** - הבוט מבין יותר ביטויים בעברית ומשיב טבעית יותר
5. **דשבורד מורה** - ממשק ניהול ברשימת המתנה ותלמידים
6. **עדכון פרטי מורה** - shafshaf6@gmail.com, 0544271232
7. **עדכון פרטי תלמידים** - פקודת `/details` לעדכון פרטים

### 🔧 שיפורים טכניים:
- יצירת רשומות TeacherAvailability אוטומטית
- תיקון checkTeacherAvailability - כעת מחזיר זמינות נכונה
- API endpoints חדשים: `/api/teacher-dashboard`, `/api/waitlist`, `/api/students`
- שיפור עיבוד שפה טבעית בעברית
- תמיכה מלאה בעדכון פרטי תלמידים

## 📋 פקודות זמינות

- `/start` - התחלת השיחה ורישום
- `/details` - עדכון פרטים אישיים
- `/book` - תיאום שיעור חדש
- `/schedule` - הצגת השיעורים שלי
- `/cancel` - ביטול שיעור
- `/waitlist` - הצטרפות לרשימת המתנה
- `/help` - עזרה ומידע

## 💬 דוגמאות שימוש

**תיאום שיעורים:**
- "אני רוצה שיעור מחר בשעה 3"
- "מתי יש זמנים פנויים השבוע?"
- "תאם לי שיעור ביום ראשון אחר הצהריים"

**בדיקת זמינות:**
- "תראה לי מה פנוי מחר"
- "איזה זמנים יש השבוע הבא?"

## 🎯 פתרון בעיות

| בעיה מקורית | ✅ פתרון |
|-------------|---------|
| אין זמנים פנויים | תוקן - המערכת מציגה זמנים נכון |
| נתונים לא נשמרים | תוקן - כל הנתונים נשמרים |
| רישום תלמידים | תוקן - רישום מלא עם פרטים |
| AI לא טבעי | תוקן - שיפור הבנה ותגובות |
| ניהול רשימת המתנה | תוקן - דשבורד מלא למורה |

## 🛠️ הגדרה טכנית

### משתני סביבה נדרשים:
```env
# Telegram Bot
BOT_TOKEN=your_telegram_bot_token

# OpenAI
OPENAI_API_KEY=your_openai_key

# Google Calendar  
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REFRESH_TOKEN=your_refresh_token

# Database
DATABASE_URL=your_postgresql_url

# Teacher Info
TEACHER_EMAIL=shafshaf6@gmail.com
TEACHER_PHONE=0544271232
```

### התקנה:
```bash
npm install
npm start
```

## 📊 דשבורד מורה

גש ל-`/api/teacher-dashboard` לצפיה ב:
- סטטיסטיקות תלמידים
- רשימת המתנה
- שיעורים קרובים
- ניהול תלמידים

## 🔧 API Endpoints

- `GET /api/teacher-dashboard` - נתוני דשבורד
- `GET /api/waitlist` - רשימת המתנה
- `GET /api/students` - רשימת תלמידים
- `POST /api/waitlist/:id/notify` - הודעה לתלמיד
- `DELETE /api/waitlist/:id` - הסרה מרשימת המתנה

## 📞 צור קשר

**שפיר - מורה למתמטיקה**
- 📧 Email: shafshaf6@gmail.com  
- 📱 Phone: 0544271232
- 🤖 Telegram: [@your_bot_username]

---

**הבוט עכשיו עובד מלא! 🚀**

הכל תוקן ועובד כמו שצריך:
- ✅ זמנים פנויים מוצגים
- ✅ רישום תלמידים מלא  
- ✅ נתונים נשמרים
- ✅ AI משופר בעברית
- ✅ דשבורד ניהול
- ✅ עדכון פרטים 